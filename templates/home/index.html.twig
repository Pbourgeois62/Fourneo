{% extends 'base.html.twig' %}

{% block title %}Bienvenue sur Fourneo !
{% endblock %}

{% block body %}
	<div class="flex flex-col items-center justify-center min-h-screen">
		<h1 class="text-4xl font-extrabold bg-white text-gray-900 mb-6 p-4 rounded-lg">
			Bienvenue sur votre tableau de bord
			<span class="text-blue-600">üöÄ</span>
		</h1>
		<div class="max-w-4xl w-full bg-white rounded-lg shadow-xl p-8 space-y-8 text-center">

			<div class="space-y-6 text-left">
				<h2 class="text-2xl font-bold text-gray-800 border-b pb-3 mb-4">√âv√©nements du jour</h2>

				{% if todayEvents is not empty %}
					<div class="grid gap-6 md:grid-cols-2 lg:grid-cols-3">
						{% for saleEvent in todayEvents %}
							<div class="relative bg-white border border-gray-200 rounded-lg p-6 shadow-md hover:shadow-lg transition-shadow duration-300">
								<h3 class="text-xl font-semibold text-gray-900 mb-2">{{ saleEvent.name }}</h3>

								{% if saleEvent.description %}
									<p class="text-sm text-gray-600 italic mb-3 line-clamp-2">{{ saleEvent.description }}</p>
								{% endif %}

								<div class="text-sm text-gray-700 space-y-1 mb-4">
									<p>
										<i class="bi bi-geo-alt-fill mr-2 text-gray-500"></i>
										<strong>Adresse :</strong>
										{{ saleEvent.address }}
									</p>
									<p>
										<i class="bi bi-calendar-event-fill mr-2 text-gray-500"></i>
										{# MODIFICATION ICI: Afficher uniquement l'heure #}
										<strong>D√©but :</strong>
										{{ saleEvent.startDate ? saleEvent.startDate|date('H:i') : 'Non d√©fini' }}
									</p>
									<p>
										<i class="bi bi-calendar-check-fill mr-2 text-gray-500"></i>
										{# MODIFICATION ICI: Afficher uniquement l'heure #}
										<strong>Fin :</strong>
										{{ saleEvent.endDate ? saleEvent.endDate|date('H:i') : 'Non d√©fini' }}
									</p>
								</div>

								{% if saleEvent.productEvents is not empty %}
									<div class="mt-4 pt-4 border-t border-gray-200">
										<p class="text-md font-medium text-gray-800">
											<i class="bi bi-box-seam-fill mr-2 text-blue-600"></i>
											Produits en vente :
											<strong class="text-blue-700">{{ saleEvent.productEvents|length }}</strong>
										</p>
									</div>
								{% else %}
									<p class="text-sm text-gray-500 mt-4 pt-4 border-t border-gray-200">Aucun produit associ√©.</p>
								{% endif %}

								<div class="mt-6 flex justify-end">
									<a href="{{ path('sale_event_show', {id: saleEvent.id}) }}" class="inline-flex items-center px-4 py-2 bg-blue-600 text-white font-medium text-sm rounded-md shadow-sm hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200">
										<i class="bi bi-eye-fill mr-2"></i>
										G√©rer la vente
									</a>
								</div>
							</div>
						{% endfor %}
					</div>
				{% else %}
					<div class="bg-blue-50 border-l-4 border-blue-400 p-4">
						<div class="flex">
							<div class="flex-shrink-0">
								<i class="bi bi-info-circle-fill text-blue-500 text-xl"></i>
							</div>
							<div class="ml-3">
								<p class="text-sm text-blue-700">
									Aucun √©v√©nement de vente n'est pr√©vu pour demain.
								</p>
							</div>
						</div>
					</div>
				{% endif %}
			</div>
		</div>
	</div>
{% endblock %}
